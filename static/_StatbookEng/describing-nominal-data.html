<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Describing nominal data | Field Research Methods in Agriculture</title>
  <meta name="description" content="Chapter 2 Describing nominal data | Field Research Methods in Agriculture and Biology: an introduction with R" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Describing nominal data | Field Research Methods in Agriculture" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Chapter 2 Describing nominal data | Field Research Methods in Agriculture and Biology: an introduction with R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Describing nominal data | Field Research Methods in Agriculture" />
  
  <meta name="twitter:description" content="Chapter 2 Describing nominal data | Field Research Methods in Agriculture and Biology: an introduction with R" />
  

<meta name="author" content="Andrea Onofri" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="suggestions-to-lay-out-field-experiments-chapter-2.html"/>

<script src="book_assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="book_assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="book_assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="book_assets/anchor-sections-1.1.0/anchor-sections.js"></script>
<!-- Global Site Tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-131792052-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-131792052-1');
  </script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Experimental Methods</a></strong></li>
<li><a href="https://www.statforbiology.com">Back to blog</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#statistical-software"><i class="fa fa-check"></i>Statistical software</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#dedication"><i class="fa fa-check"></i>Dedication</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="suggestions-to-lay-out-field-experiments-chapter-2.html"><a href="suggestions-to-lay-out-field-experiments-chapter-2.html"><i class="fa fa-check"></i><b>1</b> Suggestions to lay out field experiments (Chapter 2)</a></li>
<li class="chapter" data-level="2" data-path="describing-nominal-data.html"><a href="describing-nominal-data.html"><i class="fa fa-check"></i><b>2</b> Describing nominal data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="describing-nominal-data.html"><a href="describing-nominal-data.html#descriptive-stats-for-distributions-of-frequencies"><i class="fa fa-check"></i><b>2.1</b> Descriptive stats for distributions of frequencies</a></li>
<li class="chapter" data-level="2.2" data-path="describing-nominal-data.html"><a href="describing-nominal-data.html#graphical-representations"><i class="fa fa-check"></i><b>2.2</b> Graphical representations</a></li>
<li class="chapter" data-level="2.3" data-path="describing-nominal-data.html"><a href="describing-nominal-data.html#contingency-tables"><i class="fa fa-check"></i><b>2.3</b> Contingency tables</a></li>
<li class="chapter" data-level="2.4" data-path="describing-nominal-data.html"><a href="describing-nominal-data.html#independence"><i class="fa fa-check"></i><b>2.4</b> Independence</a></li>
<li class="chapter" data-level="2.5" data-path="describing-nominal-data.html"><a href="describing-nominal-data.html#questions-and-exercises"><i class="fa fa-check"></i><b>2.5</b> Questions and exercises</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Field Research Methods in Agriculture</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="describing-nominal-data" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Describing nominal data<a href="describing-nominal-data.html#describing-nominal-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Nominal data are produced by assigning the subjects to one of a set of categories, such as dead/alive, germinated/ungerminated, red/blue/green, and so on. For this data, especially when the number of categories is higher than two, the statistics described in book Chapter 3 cannot be used and different approaches need to be sought for their description.</p>
<p>The most widespread technique is to derive <strong>absolute frequencies</strong>, that are the counts of individuals in each category; by doing so, a <strong>distribution of frequencies</strong> is built.</p>
<p>As an example of nominal data we can take the ‘mtcars’ dataset, that was extracted from the 1974 Motor Trend US magazine and comprises 32 old automobiles. The dataset is available in R and we show part of it in table 3.2.</p>
<table>
<caption><span id="tab:unnamed-chunk-1">Table 2.1: </span>Part of the dataset ‘mtcars’ in R, representing the characteristics of 32 old automobiles; ‘vs’ is the type of engine (0 for V-shaped and 1 for straight engine) and ‘gear’ is the number of forward gears. More detail is given in the text.</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">vs</th>
<th align="right">gear</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Mazda RX4</td>
<td align="right">0</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Mazda RX4 Wag</td>
<td align="right">0</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Datsun 710</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Hornet 4 Drive</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Hornet Sportabout</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Valiant</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Duster 360</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Merc 240D</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Merc 230</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Merc 280</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Merc 280C</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Merc 450SE</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Merc 450SL</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Merc 450SLC</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Cadillac Fleetwood</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Lincoln Continental</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Chrysler Imperial</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Fiat 128</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Honda Civic</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Toyota Corolla</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Toyota Corona</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Dodge Challenger</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">AMC Javelin</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Camaro Z28</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Pontiac Firebird</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Fiat X1-9</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Porsche 914-2</td>
<td align="right">0</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Lotus Europa</td>
<td align="right">1</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">Ford Pantera L</td>
<td align="right">0</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Ferrari Dino</td>
<td align="right">0</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">Maserati Bora</td>
<td align="right">0</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Volvo 142E</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
<p>The variable ‘vs’ in ‘mtcars’ takes the values 0 for V-shaped engine and 1 for straight engine. Obviously, the two values 0 and 1 are just used to name the two categories and the resulting variable is purely nominal. The absolute frequencies of cars in the two categories are, respectively 18 and 14 and they are easily obtained by a counting process. In R, these absolute frequencies can be obtained by the <code>table()</code> function, as we show in the box below.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="describing-nominal-data.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb1-2"><a href="describing-nominal-data.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(mtcars<span class="sc">$</span>vs)</span>
<span id="cb1-3"><a href="describing-nominal-data.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb1-4"><a href="describing-nominal-data.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  0  1 </span></span>
<span id="cb1-5"><a href="describing-nominal-data.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 18 14</span></span></code></pre></div>
<p>The <strong>relative frequencies</strong> are obtained by dividing the absolute frequencies by the total number of observations. These frequencies are, respectively, 0.5625 and 0.4375 and, in R, they can be obtained by the joint usage of the <code>table()</code> and <code>length()</code> functions, where this latter returns the number of values in a vector.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="describing-nominal-data.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(mtcars<span class="sc">$</span>vs)<span class="sc">/</span><span class="fu">length</span>(mtcars<span class="sc">$</span>vs)</span>
<span id="cb2-2"><a href="describing-nominal-data.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb2-3"><a href="describing-nominal-data.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="do">##      0      1 </span></span>
<span id="cb2-4"><a href="describing-nominal-data.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 0.5625 0.4375</span></span></code></pre></div>
<p>If we consider a variable where the classes can be logically ordered, we can also calculate the <strong>cumulative frequencies</strong>, by summing up the frequency for one class with the frequencies for all previous classes. As an example we take the ‘gear’ variable in the ‘mtcars’ dataset, showing the number of forward gears for each car. We can easily see that 15 cars have 3 gears and 27 cars have 4 gears or less. In R, cumulative sums can be calculated by using the <code>cumsum()</code> function, as shown in the box below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="describing-nominal-data.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cumsum</span>(<span class="fu">table</span>(mtcars<span class="sc">$</span>gear))</span>
<span id="cb3-2"><a href="describing-nominal-data.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="do">##  3  4  5 </span></span>
<span id="cb3-3"><a href="describing-nominal-data.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 15 27 32</span></span></code></pre></div>
<p>In some circumstances, it may be convenient to ‘bin’ a continuous variable into a set of intervals. For example, if we have recorded the ages of a big group of people, we can divide the scale into intervals of five years (e.g., from 10 to 15, from 15 to 20 and so on) and, eventually, assign each individual to the appropriate age class. Such a technique is called <strong>binning</strong> or <strong>bucketing</strong>.</p>
<p>As an example, we can consider the ‘co2’ dataset, that is included in the base R installation. It contains 468 values of CO_2_ atmospheric concentrations, expressed in parts per million, as observed at monthly intervals in the US. With such a big dataset, the mean and standard deviation are not sufficient to get a good feel for the data and it would be important to have an idea of the shape of the dataset. Therefore we can split the continuous scale into a series of intervals, from 310 ppm to 370 ppm, with breaks every 10 ppm and count the observations in each interval. In the box below, the function <code>cut()</code> assigns each value to the corresponding interval (please note the ‘breaks’ argument, which sets the margins of each interval. Intervals are, by default, left open and right-closed), while the function <code>table()</code> calculates the frequencies.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="describing-nominal-data.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(co2)</span>
<span id="cb4-2"><a href="describing-nominal-data.html#cb4-2" aria-hidden="true" tabindex="-1"></a>co2 <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(co2)</span>
<span id="cb4-3"><a href="describing-nominal-data.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(co2)</span>
<span id="cb4-4"><a href="describing-nominal-data.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 337.0535</span></span>
<span id="cb4-5"><a href="describing-nominal-data.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(co2)</span>
<span id="cb4-6"><a href="describing-nominal-data.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 313.18</span></span>
<span id="cb4-7"><a href="describing-nominal-data.html#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(co2)</span>
<span id="cb4-8"><a href="describing-nominal-data.html#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 366.84</span></span>
<span id="cb4-9"><a href="describing-nominal-data.html#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># binning</span></span>
<span id="cb4-10"><a href="describing-nominal-data.html#cb4-10" aria-hidden="true" tabindex="-1"></a>classes <span class="ot">&lt;-</span> <span class="fu">cut</span>(co2, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">310</span>,<span class="dv">320</span>,<span class="dv">330</span>,<span class="dv">340</span>,<span class="dv">350</span>,<span class="dv">360</span>,<span class="dv">370</span>))</span>
<span id="cb4-11"><a href="describing-nominal-data.html#cb4-11" aria-hidden="true" tabindex="-1"></a>freq <span class="ot">&lt;-</span> <span class="fu">table</span>(classes)</span>
<span id="cb4-12"><a href="describing-nominal-data.html#cb4-12" aria-hidden="true" tabindex="-1"></a>freq</span>
<span id="cb4-13"><a href="describing-nominal-data.html#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="do">## classes</span></span>
<span id="cb4-14"><a href="describing-nominal-data.html#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="do">## (310,320] (320,330] (330,340] (340,350] (350,360] (360,370] </span></span>
<span id="cb4-15"><a href="describing-nominal-data.html#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="do">##        70       117        86        76        86        33</span></span></code></pre></div>
<div id="descriptive-stats-for-distributions-of-frequencies" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Descriptive stats for distributions of frequencies<a href="describing-nominal-data.html#descriptive-stats-for-distributions-of-frequencies" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For categorical data, we can retrieve the <strong>mode</strong>, which is the class with the highest frequency. For ordinal data, wherever distances between classes are meaningful, and for discrete data, we can also calculate the median and other percentiles, as well as the mean and other statistics of spread (e.g., variance, standard deviation). The mean is calculated as:</p>
<p><span class="math display">\[\mu = \frac{\sum\limits_{i = 1}^n f_i x_i}{\sum\limits_{i = 1}^n f_i}\]</span></p>
<p>where <span class="math inline">\(x_i\)</span> is the value for the i-th class, and <span class="math inline">\(f_i\)</span> is the frequency for the same class. Likewise, the deviance, is calculated as:</p>
<p><span class="math display">\[SS = \sum\limits_{i = 1}^n f_i (x_i - \mu)^2\]</span></p>
<p>For example, considering the ‘gear’ variable in Table 3.2, the average number of forward gears is:</p>
<p><span class="math display">\[\frac{ 15 \times 3 + 12 \times 4 + 5 \times 5}{15 + 12 + 5} = 3.6875\]</span></p>
<p>while the deviance is:</p>
<p><span class="math display">\[SS = 15 \times (3 - 3.6875)^2 + 12 \times (4 - 3.6875)^2 + 5 \times (5 - 3.l875)^2 = 16.875\]</span></p>
<p>With interval data (binned data), descriptive statistics should be calculated by using the raw data, if they are available. If they are not, we can use the frequency distribution obtained from binning, by assigning to each individual the central value of the interval class to which it belongs. As an example, we can consider the distribution of frequencies in Table 3.3, relating to the time (in minutes) taken to complete a statistic assignment for a group of students in biotechnology. We can see that the mean is equal to:</p>
<p><span class="math display">\[\frac{7.5 \times 1 + 12.5 \times 4 + 17.5 \times 3 + 22.5 \times 2}{10} = 15.5\]</span></p>
<table>
<caption><span id="tab:unnamed-chunk-6">Table 2.2: </span>Distribution of frequency for the time (in minutes) taken to complete a statistic assignment for a group of students in biotechnology</caption>
<thead>
<tr class="header">
<th align="center">Time interval</th>
<th align="center">Central value</th>
<th align="center">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">5 - 10</td>
<td align="center">7.5</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">10 - 15</td>
<td align="center">12.5</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">15 - 20</td>
<td align="center">17.5</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">20 - 25</td>
<td align="center">22.5</td>
<td align="center">2</td>
</tr>
</tbody>
</table>
<p>The calculation of the deviance is left as an exercise.</p>
</div>
<div id="graphical-representations" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Graphical representations<a href="describing-nominal-data.html#graphical-representations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A distribution of frequency can be represented by using a ‘pie’ chart, which can be drawn with <code>ggplot</code>. The coding conist of producing a bar chart with stacked segments and rotating the coordinate system, as shown in the box below.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="describing-nominal-data.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb5-2"><a href="describing-nominal-data.html#cb5-2" aria-hidden="true" tabindex="-1"></a>dfr <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;Class&quot;</span> <span class="ot">=</span> <span class="fu">names</span>(freq),</span>
<span id="cb5-3"><a href="describing-nominal-data.html#cb5-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Freq&quot;</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(freq))</span>
<span id="cb5-4"><a href="describing-nominal-data.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dfr) <span class="sc">+</span></span>
<span id="cb5-5"><a href="describing-nominal-data.html#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="cn">NA</span>, <span class="at">y =</span> Freq, <span class="at">fill =</span> Class),</span>
<span id="cb5-6"><a href="describing-nominal-data.html#cb5-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">position =</span> <span class="st">&quot;fill&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="describing-nominal-data.html#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">&quot;y&quot;</span>, <span class="at">start=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb5-8"><a href="describing-nominal-data.html#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="co"># remove background, grid, numeric labels</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-7-1.png" /><!-- --></p>
</div>
<div id="contingency-tables" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Contingency tables<a href="describing-nominal-data.html#contingency-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When we have more than one cataegorical variable, we can summarise the distribution of frequency by using two-way tables, usually known as <strong>contingency tables</strong> or crosstabs. These tables can be created by providing two or more vectors as arguments to the <code>table()</code> function; it is important to keep in mind that, even if the resulting table may resamble a matrix or a data.frame, a contingency table represents a peculiar class in R, with several specific methods, that we will explore later. The box below shows a contingency table that shows the cross tabulation for ‘gear’ and ‘vs’ in ‘mtcars’.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="describing-nominal-data.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(mtcars<span class="sc">$</span>vs, mtcars<span class="sc">$</span>gear)</span>
<span id="cb6-2"><a href="describing-nominal-data.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="do">##    </span></span>
<span id="cb6-3"><a href="describing-nominal-data.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="do">##      3  4  5</span></span>
<span id="cb6-4"><a href="describing-nominal-data.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   0 12  2  4</span></span>
<span id="cb6-5"><a href="describing-nominal-data.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   1  3 10  1</span></span></code></pre></div>
<p>Another interesting table is contained in the ‘datasets’ package and is named ‘HairEyeColor’. It shows the distribution of hair and eye color in 592 statistics students, depending on sex; both characters are expressed in four classes, i.e. black, brown, red and blond hair and brown, blue, hazel and green eyes. Considering females, the contingency table is reported in the following table and it is augmented with row and column sums (see later).</p>
<table>
<caption><span id="tab:unnamed-chunk-9">Table 2.3: </span>Distribution of hair and eye color for 313 female statistics students, augmented with row and column sums. Dataset taken from R package ‘datasets’</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Brown eye</th>
<th align="center">Blue eye</th>
<th align="center">Hazel eye</th>
<th align="center">Green eye</th>
<th align="center">ROW SUMS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Black hair</td>
<td align="center">36</td>
<td align="center">9</td>
<td align="center">5</td>
<td align="center">2</td>
<td align="center">52</td>
</tr>
<tr class="even">
<td align="left">Brown hair</td>
<td align="center">66</td>
<td align="center">34</td>
<td align="center">29</td>
<td align="center">14</td>
<td align="center">143</td>
</tr>
<tr class="odd">
<td align="left">Red hair</td>
<td align="center">16</td>
<td align="center">7</td>
<td align="center">7</td>
<td align="center">7</td>
<td align="center">37</td>
</tr>
<tr class="even">
<td align="left">Blond hair</td>
<td align="center">4</td>
<td align="center">64</td>
<td align="center">5</td>
<td align="center">8</td>
<td align="center">81</td>
</tr>
<tr class="odd">
<td align="left">COLUMN SUMS</td>
<td align="center">122</td>
<td align="center">114</td>
<td align="center">46</td>
<td align="center">31</td>
<td align="center">313</td>
</tr>
</tbody>
</table>
</div>
<div id="independence" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Independence<a href="describing-nominal-data.html#independence" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>With a contingency table, we may be interested in assessing whether the two variables show some sort of dependency relationship. In the previous example, is there any relationship between the color of the eyes and the color of the hair? If not, we say that the two variables are independent. Independency is assessed by using the <span class="math inline">\(\chi^2\)</span> statistic.</p>
<p>As the first step, we need to calculate the <em>marginal frequencies</em>, i.e. the sums of frequencies by row and by column (please note that the entries of a contingency table are called <em>joint frequencies</em>). These sums are reported in the Table above.</p>
<p>Let’s consider black hair: in total there are 52 women with black air, that is <span class="math inline">\(52/313 \times 100 = 16.6\)</span>% of the total. If the two characters were independent, the above proportion should not change, depending on the color of eyes. For example, we have 122 women with brown eyes and 16.6% of those should be black haired, which makes up an expected value of 20.26837 black haired and brown eyed women (much lower than the observed 36). Another example: the expected value of blue eyed and black haired women is <span class="math inline">\(114 \times 0.166 = 18.9\)</span> (much higher than the observed). A third example may be useful: in total, there is <span class="math inline">\(143/313 = 45.7\)</span>% of brown haired women and, in case of independence, we would expect <span class="math inline">\(46 \times 0.457 = 21.02\)</span> brown haired and hazel eyed woman. Keeping on with the calculations, we could derive a table of expected frequency, in the case of complete independence between the two characters. All the expected values in case of independency are reported in the Table below.</p>
<table style="width:100%;">
<caption><span id="tab:unnamed-chunk-11">Table 2.4: </span>Expected values of hair and eye color for 313 female statistics students, augmented with row and column sums. Expectations assume total lack of dependency between the two variables.</caption>
<colgroup>
<col width="18%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Brown eye</th>
<th align="center">Blue eye</th>
<th align="center">Hazel eye</th>
<th align="center">Green eye</th>
<th align="center">ROW SUMS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Black hair</td>
<td align="center">20.26837</td>
<td align="center">18.93930</td>
<td align="center">7.642173</td>
<td align="center">5.150160</td>
<td align="center">52</td>
</tr>
<tr class="even">
<td align="left">Brown hair</td>
<td align="center">55.73802</td>
<td align="center">52.08307</td>
<td align="center">21.015974</td>
<td align="center">14.162939</td>
<td align="center">143</td>
</tr>
<tr class="odd">
<td align="left">Red hair</td>
<td align="center">14.42173</td>
<td align="center">13.47604</td>
<td align="center">5.437700</td>
<td align="center">3.664537</td>
<td align="center">37</td>
</tr>
<tr class="even">
<td align="left">Blond hair</td>
<td align="center">31.57189</td>
<td align="center">29.50160</td>
<td align="center">11.904153</td>
<td align="center">8.022364</td>
<td align="center">81</td>
</tr>
<tr class="odd">
<td align="left">COLUMN SUMS</td>
<td align="center">122.00000</td>
<td align="center">114.00000</td>
<td align="center">46.000000</td>
<td align="center">31.000000</td>
<td align="center">313</td>
</tr>
</tbody>
</table>
<p>The observed and expected values are different, which might indicate a some sort of relationship between the two variables; for example, having red hair might imply that we are more likely to have eyes of a certain color. In order to quantify the discrepancy between the two tables, we calculate the <span class="math inline">\(\chi^2\)</span> stat, that is:</p>
<p><span class="math display">\[\chi ^2  = \sum \left[ \frac{\left( {f_o  - f_e } \right)^2 }{f_e } \right]\]</span></p>
<p>where <span class="math inline">\(f_o\)</span> are the observed frequencies and <span class="math inline">\(f_e\)</span> are the expected frequencies. For example, for the first value we have:</p>
<p><span class="math display">\[\chi^2_1  = \left[ \frac{\left( {36  - 20.26837 } \right)^2 }{20.26837 } \right]\]</span></p>
<p>In all, we should calculate 16 ratios and sum them to each other. The final <span class="math inline">\(\chi^2\)</span> value should be equal to 0 in case of independence and it should increase as the relationship between the two variables increases. With R, the chi square value is provided as an output of the <code>summary()</code> method, applied to the table object.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="describing-nominal-data.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(HairEyeColor)</span>
<span id="cb7-2"><a href="describing-nominal-data.html#cb7-2" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> HairEyeColor[,,<span class="dv">2</span>]</span>
<span id="cb7-3"><a href="describing-nominal-data.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(tab)</span>
<span id="cb7-4"><a href="describing-nominal-data.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of cases in table: 313 </span></span>
<span id="cb7-5"><a href="describing-nominal-data.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of factors: 2 </span></span>
<span id="cb7-6"><a href="describing-nominal-data.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Test for independence of all factors:</span></span>
<span id="cb7-7"><a href="describing-nominal-data.html#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  Chisq = 106.66, df = 9, p-value = 7.014e-19</span></span>
<span id="cb7-8"><a href="describing-nominal-data.html#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  Chi-squared approximation may be incorrect</span></span></code></pre></div>
<p>The resulting value is 106.66 and it suggests that the two variables are not independent. In order to get a better appriciation of the extend of dependency, we can compare the chi square value with its maximum allawable value, which is:</p>
<p><span class="math display">\[\max \left( \chi ^2 \right)  = n \cdot \min (r - 1,\,c - 1)\]</span></p>
<p>i.e. the product between the number of subjects (<span class="math inline">\(n\)</span>) and the minimum value between the number of rows minus one and the number of columns minus one (in our case, it is <span class="math inline">\(313 \times 3 = 939\)</span>).</p>
<p>The square root of the ratio between the observed chi square value and the maximum value is know as the Cramer’s V coefficient and it is more understandable than the chi square, as it is always included between 0 and 1.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="describing-nominal-data.html#cb8-1" aria-hidden="true" tabindex="-1"></a>Vcram <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">summary</span>(tab)<span class="sc">$</span>statistic<span class="sc">/</span>(<span class="fu">sum</span>(tab) <span class="sc">*</span> <span class="fu">min</span>(<span class="fu">nrow</span>(tab) <span class="sc">-</span> <span class="dv">1</span>, <span class="fu">ncol</span>(tab) <span class="sc">-</span> <span class="dv">1</span>)))</span>
<span id="cb8-2"><a href="describing-nominal-data.html#cb8-2" aria-hidden="true" tabindex="-1"></a>Vcram</span>
<span id="cb8-3"><a href="describing-nominal-data.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.3370355</span></span></code></pre></div>
</div>
<div id="questions-and-exercises" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Questions and exercises<a href="describing-nominal-data.html#questions-and-exercises" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>List and discuss the main statistics for nominal and ordinal variables</li>
<li>Describe and discuss briefly the chi square coefficient</li>
<li>A scientist ha compared the proportion of females in two random samples of insects treated with two different substances (A and B). With substance A, they found 275 males and 175 females, while, with substance B they found 326 males and 297 females. Considering these results, determine the degree of association between the two variables (sex and substance), in relation to the maximum and minimum allowable level for the selected statistic.</li>
<li>Load the csv file ‘students.csv’ from <a href="https://www.casaonofri.it/_datasets/students.csv">https://www.casaonofri.it/_datasets/students.csv</a>. This dataset relates to a number of students, their votes in several undergraduate exams and information on high school. Determine: (i) the absolute and relative frequencies for the different subjects; (ii) the frequency distribution of votes in three classes (bins): &lt;24, 24-27, &gt;27; (iii) whether the votes depend on the exam subject and (iv) whether the votes depend on the high school type.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="suggestions-to-lay-out-field-experiments-chapter-2.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

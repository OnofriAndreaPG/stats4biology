<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Capitolo 4 Per iniziare: introduzione ad R | Metodologia di sperimentazione in agricoltura</title>
  <meta name="description" content="Appunti dalle lezioni (A.A. 2017-2018)">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Capitolo 4 Per iniziare: introduzione ad R | Metodologia di sperimentazione in agricoltura" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Appunti dalle lezioni (A.A. 2017-2018)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capitolo 4 Per iniziare: introduzione ad R | Metodologia di sperimentazione in agricoltura" />
  
  <meta name="twitter:description" content="Appunti dalle lezioni (A.A. 2017-2018)" />
  

<meta name="author" content="Andrea Onofri">


<meta name="date" content="2019-01-11">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduzione-al-disegno-sperimentale.html">
<link rel="next" href="primo-passo-la-descrizione-dei-dati-raccolti.html">
<script src="book_assets/jquery-2.2.3/jquery.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduzione</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#organizzazione-del-corso"><i class="fa fa-check"></i><b>1.1</b> Organizzazione del corso</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#esercitazioni-pratiche"><i class="fa fa-check"></i><b>1.2</b> Esercitazioni pratiche</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#obiettivi-specifici-del-corso"><i class="fa fa-check"></i>Obiettivi specifici del Corso</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><i class="fa fa-check"></i><b>2</b> Il metodo sperimentale: quando la scienza è scienza</a><ul>
<li class="chapter" data-level="2.1" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#introduzione-1"><i class="fa fa-check"></i><b>2.1</b> Introduzione</a><ul>
<li class="chapter" data-level="2.1.1" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#cosa-e-quindi-una-prova-scientifica"><i class="fa fa-check"></i><b>2.1.1</b> Cosa è quindi una prova scientifica?</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#esperimenti-buoni-e-cattivi"><i class="fa fa-check"></i><b>2.2</b> Esperimenti buoni e cattivi!</a><ul>
<li class="chapter" data-level="2.2.1" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#lerrore-sperimentale"><i class="fa fa-check"></i><b>2.2.1</b> L’errore sperimentale</a></li>
<li class="chapter" data-level="2.2.2" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#il-campionamento"><i class="fa fa-check"></i><b>2.2.2</b> Il campionamento</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#scienza-metodo"><i class="fa fa-check"></i><b>2.3</b> Scienza = metodo</a></li>
<li class="chapter" data-level="2.4" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#chi-valuta-se-un-esperimento-e-attendibile"><i class="fa fa-check"></i><b>2.4</b> Chi valuta se un esperimento è attendibile?</a></li>
<li class="chapter" data-level="2.5" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#il-metodo-sperimentale"><i class="fa fa-check"></i><b>2.5</b> Il metodo sperimentale</a></li>
<li class="chapter" data-level="2.6" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#metodi-sperimentali-validi-ed-invalidi"><i class="fa fa-check"></i><b>2.6</b> Metodi sperimentali validi ed invalidi</a><ul>
<li class="chapter" data-level="2.6.1" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#primo-esperimento"><i class="fa fa-check"></i><b>2.6.1</b> Primo esperimento</a></li>
<li class="chapter" data-level="2.6.2" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#secondo-esperimento"><i class="fa fa-check"></i><b>2.6.2</b> Secondo esperimento</a></li>
<li class="chapter" data-level="2.6.3" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#terzo-esperimento"><i class="fa fa-check"></i><b>2.6.3</b> Terzo esperimento</a></li>
<li class="chapter" data-level="2.6.4" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#quarto-esperimento-quello-buono"><i class="fa fa-check"></i><b>2.6.4</b> Quarto esperimento: quello buono</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#incertezza-residua"><i class="fa fa-check"></i><b>2.7</b> Incertezza residua</a></li>
<li class="chapter" data-level="2.8" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#il-ruolo-della-statistica"><i class="fa fa-check"></i><b>2.8</b> Il ruolo della statistica</a></li>
<li class="chapter" data-level="2.9" data-path="il-metodo-sperimentale-quando-la-scienza-e-scienza.html"><a href="il-metodo-sperimentale-quando-la-scienza-e-scienza.html#conclusioni"><i class="fa fa-check"></i><b>2.9</b> Conclusioni</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html"><i class="fa fa-check"></i><b>3</b> Introduzione al disegno sperimentale</a><ul>
<li class="chapter" data-level="3.1" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#definizioni"><i class="fa fa-check"></i><b>3.1</b> Definizioni</a></li>
<li class="chapter" data-level="3.2" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#elementi-fondamentali-del-disegno-sperimentale"><i class="fa fa-check"></i><b>3.2</b> Elementi fondamentali del disegno sperimentale</a><ul>
<li class="chapter" data-level="3.2.1" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#controllo-degli-errori"><i class="fa fa-check"></i><b>3.2.1</b> Controllo degli errori</a></li>
<li class="chapter" data-level="3.2.2" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#replicazione"><i class="fa fa-check"></i><b>3.2.2</b> Replicazione</a></li>
<li class="chapter" data-level="3.2.3" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#randomizzazione"><i class="fa fa-check"></i><b>3.2.3</b> Randomizzazione</a></li>
<li class="chapter" data-level="3.2.4" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#esperimenti-non-validi"><i class="fa fa-check"></i><b>3.2.4</b> Esperimenti non validi</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#progettazione-di-un-esperimento-protocollo"><i class="fa fa-check"></i><b>3.3</b> Progettazione di un esperimento (protocollo)</a><ul>
<li class="chapter" data-level="3.3.1" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#ipotesi-scientifica-rightarrow-obiettivo-dellesperimento"><i class="fa fa-check"></i><b>3.3.1</b> Ipotesi scientifica <span class="math inline">\(\rightarrow\)</span> obiettivo dell’esperimento</a></li>
<li class="chapter" data-level="3.3.2" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#casi-di-studio---1"><i class="fa fa-check"></i><b>3.3.2</b> Casi di studio - 1</a></li>
<li class="chapter" data-level="3.3.3" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#identificazione-dei-fattori-sperimentali"><i class="fa fa-check"></i><b>3.3.3</b> Identificazione dei fattori sperimentali</a></li>
<li class="chapter" data-level="3.3.4" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#esperimenti-multifattoriali"><i class="fa fa-check"></i><b>3.3.4</b> Esperimenti (multi)fattoriali</a></li>
<li class="chapter" data-level="3.3.5" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#aggiungere-un-controllo"><i class="fa fa-check"></i><b>3.3.5</b> Aggiungere un controllo?</a></li>
<li class="chapter" data-level="3.3.6" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#fattori-sperimentali-di-trattamento-e-di-blocco"><i class="fa fa-check"></i><b>3.3.6</b> Fattori sperimentali di trattamento e di blocco</a></li>
<li class="chapter" data-level="3.3.7" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#casi-di-studio---2"><i class="fa fa-check"></i><b>3.3.7</b> Casi di studio - 2</a></li>
<li class="chapter" data-level="3.3.8" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#identificazione-delle-unita-sperimentali-e-delle-repliche"><i class="fa fa-check"></i><b>3.3.8</b> Identificazione delle unità sperimentali e delle repliche</a></li>
<li class="chapter" data-level="3.3.9" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#scelta-delle-variabili-da-rilevare"><i class="fa fa-check"></i><b>3.3.9</b> Scelta delle variabili da rilevare</a></li>
<li class="chapter" data-level="3.3.10" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#casi-di-studio---3"><i class="fa fa-check"></i><b>3.3.10</b> Casi di studio - 3</a></li>
<li class="chapter" data-level="3.3.11" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#allocazione-dei-trattamenti"><i class="fa fa-check"></i><b>3.3.11</b> Allocazione dei trattamenti</a></li>
<li class="chapter" data-level="3.3.12" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#casi-di-studio---4"><i class="fa fa-check"></i><b>3.3.12</b> Casi di studio - 4</a></li>
<li class="chapter" data-level="3.3.13" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#impianto-delle-prove"><i class="fa fa-check"></i><b>3.3.13</b> Impianto delle prove</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#come-scrivere-un-progetto-di-ricerca-o-un-report-di-ricerca"><i class="fa fa-check"></i><b>3.4</b> Come scrivere un progetto di ricerca o un report di ricerca</a></li>
<li class="chapter" data-level="3.5" data-path="introduzione-al-disegno-sperimentale.html"><a href="introduzione-al-disegno-sperimentale.html#per-approfondimenti"><i class="fa fa-check"></i><b>3.5</b> Per approfondimenti</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html"><i class="fa fa-check"></i><b>4</b> Per iniziare: introduzione ad R</a><ul>
<li class="chapter" data-level="4.1" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#cosa-e-r"><i class="fa fa-check"></i><b>4.1</b> Cosa è R?</a></li>
<li class="chapter" data-level="4.2" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#oggetti-e-assegnazioni"><i class="fa fa-check"></i><b>4.2</b> Oggetti e assegnazioni</a></li>
<li class="chapter" data-level="4.3" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#costanti-e-vettori"><i class="fa fa-check"></i><b>4.3</b> Costanti e vettori</a></li>
<li class="chapter" data-level="4.4" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#matrici"><i class="fa fa-check"></i><b>4.4</b> Matrici</a></li>
<li class="chapter" data-level="4.5" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#operazioni-ed-operatori"><i class="fa fa-check"></i><b>4.5</b> Operazioni ed operatori</a></li>
<li class="chapter" data-level="4.6" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#funzioni-ed-argomenti"><i class="fa fa-check"></i><b>4.6</b> Funzioni ed argomenti</a></li>
<li class="chapter" data-level="4.7" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#dataframe"><i class="fa fa-check"></i><b>4.7</b> Dataframe</a></li>
<li class="chapter" data-level="4.8" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#quale-oggetto-sto-utilizzando"><i class="fa fa-check"></i><b>4.8</b> Quale oggetto sto utilizzando?</a></li>
<li class="chapter" data-level="4.9" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#consigli-per-limmissione-di-dati-sperimentali"><i class="fa fa-check"></i><b>4.9</b> Consigli per l’immissione di dati sperimentali</a><ul>
<li class="chapter" data-level="4.9.1" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#immissione-manuale-di-dati"><i class="fa fa-check"></i><b>4.9.1</b> Immissione manuale di dati</a></li>
<li class="chapter" data-level="4.9.2" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#immissione-di-numeri-progressivi"><i class="fa fa-check"></i><b>4.9.2</b> Immissione di numeri progressivi</a></li>
<li class="chapter" data-level="4.9.3" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#immissione-dei-codici-delle-tesi-e-dei-blocchi"><i class="fa fa-check"></i><b>4.9.3</b> Immissione dei codici delle tesi e dei blocchi</a></li>
<li class="chapter" data-level="4.9.4" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#leggere-e-salvare-dati-esterni"><i class="fa fa-check"></i><b>4.9.4</b> Leggere e salvare dati esterni</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#alcune-operazioni-comuni-sul-dataset"><i class="fa fa-check"></i><b>4.10</b> Alcune operazioni comuni sul dataset</a><ul>
<li class="chapter" data-level="4.10.1" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#selezionare-un-subset-di-dati"><i class="fa fa-check"></i><b>4.10.1</b> Selezionare un subset di dati</a></li>
<li class="chapter" data-level="4.10.2" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#ordinare-un-vettore-o-un-dataframe"><i class="fa fa-check"></i><b>4.10.2</b> Ordinare un vettore o un dataframe</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#workspace"><i class="fa fa-check"></i><b>4.11</b> Workspace</a></li>
<li class="chapter" data-level="4.12" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#script-o-programmi"><i class="fa fa-check"></i><b>4.12</b> Script o programmi</a></li>
<li class="chapter" data-level="4.13" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#interrogazione-di-oggetti"><i class="fa fa-check"></i><b>4.13</b> Interrogazione di oggetti</a></li>
<li class="chapter" data-level="4.14" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#altre-funzioni-matriciali"><i class="fa fa-check"></i><b>4.14</b> Altre funzioni matriciali</a></li>
<li class="chapter" data-level="4.15" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#cenni-sulle-funzionalita-grafiche-in-r"><i class="fa fa-check"></i><b>4.15</b> Cenni sulle funzionalità grafiche in R</a></li>
<li class="chapter" data-level="4.16" data-path="per-iniziare-introduzione-ad-r.html"><a href="per-iniziare-introduzione-ad-r.html#per-approfondimenti-1"><i class="fa fa-check"></i><b>4.16</b> Per approfondimenti</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="primo-passo-la-descrizione-dei-dati-raccolti.html"><a href="primo-passo-la-descrizione-dei-dati-raccolti.html"><i class="fa fa-check"></i><b>5</b> Primo passo: la descrizione dei dati raccolti</a><ul>
<li class="chapter" data-level="5.1" data-path="primo-passo-la-descrizione-dei-dati-raccolti.html"><a href="primo-passo-la-descrizione-dei-dati-raccolti.html#le-variabili-quantitative-analisi-chimiche-e-altre-misurazioni-fondamentali"><i class="fa fa-check"></i><b>5.1</b> Le variabili quantitative: analisi chimiche e altre misurazioni fondamentali</a><ul>
<li class="chapter" data-level="5.1.1" data-path="primo-passo-la-descrizione-dei-dati-raccolti.html"><a href="primo-passo-la-descrizione-dei-dati-raccolti.html#indicatori-di-tendenza-centrale"><i class="fa fa-check"></i><b>5.1.1</b> Indicatori di tendenza centrale</a></li>
<li class="chapter" data-level="5.1.2" data-path="primo-passo-la-descrizione-dei-dati-raccolti.html"><a href="primo-passo-la-descrizione-dei-dati-raccolti.html#indicatori-di-variabilita"><i class="fa fa-check"></i><b>5.1.2</b> Indicatori di variabilità</a></li>
<li class="chapter" data-level="5.1.3" data-path="primo-passo-la-descrizione-dei-dati-raccolti.html"><a href="primo-passo-la-descrizione-dei-dati-raccolti.html#arrotondamenti"><i class="fa fa-check"></i><b>5.1.3</b> Arrotondamenti</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="primo-passo-la-descrizione-dei-dati-raccolti.html"><a href="primo-passo-la-descrizione-dei-dati-raccolti.html#descrizione-dei-sottogruppi"><i class="fa fa-check"></i><b>5.2</b> Descrizione dei sottogruppi</a></li>
<li class="chapter" data-level="5.3" data-path="primo-passo-la-descrizione-dei-dati-raccolti.html"><a href="primo-passo-la-descrizione-dei-dati-raccolti.html#distribuzioni-di-frequenza-e-classamento"><i class="fa fa-check"></i><b>5.3</b> Distribuzioni di frequenza e classamento</a></li>
<li class="chapter" data-level="5.4" data-path="primo-passo-la-descrizione-dei-dati-raccolti.html"><a href="primo-passo-la-descrizione-dei-dati-raccolti.html#statistiche-descrittive-per-le-distribuzioni-di-frequenza"><i class="fa fa-check"></i><b>5.4</b> Statistiche descrittive per le distribuzioni di frequenza</a></li>
<li class="chapter" data-level="5.5" data-path="primo-passo-la-descrizione-dei-dati-raccolti.html"><a href="primo-passo-la-descrizione-dei-dati-raccolti.html#distribuzioni-di-frequenza-bivariate-le-tabelle-di-contingenza"><i class="fa fa-check"></i><b>5.5</b> Distribuzioni di frequenza bivariate: le tabelle di contingenza</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="connessione.html"><a href="connessione.html"><i class="fa fa-check"></i><b>6</b> Connessione</a></li>
<li class="chapter" data-level="7" data-path="correlazione.html"><a href="correlazione.html"><i class="fa fa-check"></i><b>7</b> Correlazione</a></li>
<li class="chapter" data-level="8" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>8</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Metodologia di sperimentazione in agricoltura</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="per-iniziare-introduzione-ad-r" class="section level1">
<h1><span class="header-section-number">Capitolo 4</span> Per iniziare: introduzione ad R</h1>
<div id="cosa-e-r" class="section level2">
<h2><span class="header-section-number">4.1</span> Cosa è R?</h2>
<p>R è un software cugino di S-PLUS, con il quale condivide la gran parte delle procedure ed una perfetta compatibilità. Rispetto al cugino più famoso, è completamente freeware (sotto la licenza GNU General Public Licence della Free Software Foundation) ed è nato proprio per mettere a disposizione degli utenti un software gratuito, potente, mantenendo comunque la capacità di lavorare in proprio senza usare software di frodo.</p>
<p>E’uno strumento molto potente, anche da un punto di vista grafico, ma necessita di una certa pratica, in quanto manca di una vera e propria interfaccia grafica (Graphical User Interface: GUI) e, di conseguenza, è spesso necessario scrivere codice.</p>
<p>Inoltre, si tratta di un programma <em>Open Source</em>, cioè ognuno può avere accesso al suo codice interno ed, eventualmente, proporne modifiche. Altro vantaggio è che, oltre che un programma, R è anche un linguaggio <em>object oriented</em>, che può essere utilizzato dall’utente per creare funzioni personalizzate.</p>
<p><strong>Per evitare noiosi errori che possono essere molto comuni per chi è abituato a lavorare in ambiente WINDOWS, è bene precisare subito che R, come tutti i linguaggi di derivazione UNIX, è <em>case sensitive</em>, cioè distingue tra lettere maiuscole e lettere minuscole.</strong></p>
</div>
<div id="oggetti-e-assegnazioni" class="section level2">
<h2><span class="header-section-number">4.2</span> Oggetti e assegnazioni</h2>
</div>
<div id="costanti-e-vettori" class="section level2">
<h2><span class="header-section-number">4.3</span> Costanti e vettori</h2>
<p>R lavora con valori, stringhe di caratteri, vettori e matrici, che vengono assegnati alle variabili con opportuni comandi. Ad esempio, il comando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y  &lt;-<span class="st">  </span><span class="dv">3</span>
y</code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>assegna il valore 3 alla variabile <em>y</em>. Invece il comando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x  &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)
x</code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>crea un vettore <em>x</em> contenente i numeri 1,2 e 3. Bisogna precisare che con il termine ‘vettore’ in R non ci si riferisce al vettore algebrico, ma più semplicemente ad una serie di numeri (o strighe) consecutivi, rappresentati convenzionalmente da R in una riga.</p>
</div>
<div id="matrici" class="section level2">
<h2><span class="header-section-number">4.4</span> Matrici</h2>
<p>Oltre ai vettori, in R possiamo definire le matrici. Ad esempio il comando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z  &lt;-<span class="st">  </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>), <span class="dv">2</span>, <span class="dv">4</span>, <span class="dt">byrow=</span><span class="ot">TRUE</span>)</code></pre></div>
<p>crea una matrice <em>z</em> a 2 righe e 4 colonne, contenente i numeri da 1 a 8. La matrice viene riempita per riga.</p>
<p>Come già mostrato, per visualizzare il contenuto di una variabile basta digitare il nome della variabile. Ad esempio:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    2    3    4
## [2,]    5    6    7    8</code></pre>
<p>Gli elementi di una matrice possono essere richiamati con un opportuno utilizzo delle parentesi quadre:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z[<span class="dv">1</span>,<span class="dv">3</span>]</code></pre></div>
<pre><code>## [1] 3</code></pre>
</div>
<div id="operazioni-ed-operatori" class="section level2">
<h2><span class="header-section-number">4.5</span> Operazioni ed operatori</h2>
<p>Le variabili possono essere create anche con opportune operazioni algebriche, che si eseguono utilizzando i normali operatori (+, -, *, /). Ad esempio:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f  &lt;-<span class="st">  </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>y
f</code></pre></div>
<pre><code>## [1] 6</code></pre>
</div>
<div id="funzioni-ed-argomenti" class="section level2">
<h2><span class="header-section-number">4.6</span> Funzioni ed argomenti</h2>
<p>Per eseguire operazioni particolari si utilizzano, in genere, le funzioni. Una funzione è richiamata con un nome ed uno o più argomenti. Ad esempio, il comando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">5</span>)</code></pre></div>
<pre><code>## [1] 1.609438</code></pre>
<p>Calcola il logaritmo naturale di 5 e richiede un solo argomento, cioè il numero di cui calcolare il logaritmo. Al contrario, il comando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">100</span>, <span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 6.643856</code></pre>
<p>Calcola il logaritmo in base 2 di 100 e richiede due argomenti, cioè il numero di cui calcolare il logaritmo e la base del logaritmo. Quando sono necessari due o più argomenti essi debbono essere messi nell’ordine esatto (in questo caso prima il numero poi la base) oppure debbono essere utilizzati i riferimenti corretti. Ad esempio, i due comandi:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">100</span>, <span class="dt">base=</span><span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 6.643856</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dt">base=</span><span class="dv">2</span>, <span class="dv">100</span>)</code></pre></div>
<pre><code>## [1] 6.643856</code></pre>
<p>restituiscono lo stesso risultato, al contrario dei due comandi seguenti:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">100</span>, <span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 6.643856</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">2</span>, <span class="dv">100</span>)</code></pre></div>
<pre><code>## [1] 0.150515</code></pre>
</div>
<div id="dataframe" class="section level2">
<h2><span class="header-section-number">4.7</span> Dataframe</h2>
<p>Oltre a vettori e matrici, in R esiste un altro importante oggetto, cioè il <em>dataframe</em>, costituito da una tabella di dati con una o più colonne di variabili e una o più righe di dati. A differenza della matrice, il dataframe può essere utilizzato per memorizzare variabili di diverso tipo (numeri e caratteri). Un dataframe può essere creato unendo più vettori, come nell’esempio seguente.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">parcelle  &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)
tesi  &lt;-<span class="st">  </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;C&quot;</span>))
dati  &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">13</span>, <span class="dv">11</span>, <span class="dv">19</span>)
tabella  &lt;-<span class="st">  </span><span class="kw">data.frame</span>(<span class="st">&quot;Parc&quot;</span>=parcelle,<span class="st">&quot;Tesi&quot;</span>=tesi,<span class="st">&quot;Produzioni&quot;</span>=dati)
tabella</code></pre></div>
<pre><code>##   Parc Tesi Produzioni
## 1    1    A         12
## 2    2    A         15
## 3    3    B         16
## 4    4    B         13
## 5    5    C         11
## 6    6    C         19</code></pre>
<p>Per utilizzare i dati in un dataframe, bisognerà accedere ai singoli vettori colonna che lo costituiscono. Per far questo possiamo utilizzare l’estrattore <em>$</em>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tabella<span class="op">$</span>Parc</code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<p>oppure possiamo utilizzare gli indici, che nel caso del dataframe, cioè una struttura dati bidimensionale, sono due, uno per le righe e uno per le colonne, separati da virgole:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tabella[,<span class="dv">1</span>]</code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<p>oppure si può usare il comando <em>attach()</em>, che crea immediatamente tre vettori (Pianta, Varietà e Altezza), disponibili per le successive elaborazioni.Possiamo osservare infatti che, dopo aver creato la matrice ‘tabella’, digitando quanto segue R ci mette a disposizione il vettore ‘Produzioni’.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attach</span>(tabella)
Produzioni</code></pre></div>
<pre><code>## [1] 12 15 16 13 11 19</code></pre>
<p>I dataframe possono essere editati velocemente utilizzando il comando <em>fix</em>, che fa apparire una finestra di editing tipo ‘foglio elettronico’.</p>
</div>
<div id="quale-oggetto-sto-utilizzando" class="section level2">
<h2><span class="header-section-number">4.8</span> Quale oggetto sto utilizzando?</h2>
<p>Per avere informazioni sulla natura di un oggetto creato in R, posso usare la funzione <code>str()</code>, come nell’esempio seguente:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(tabella)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    6 obs. of  3 variables:
##  $ Parc      : num  1 2 3 4 5 6
##  $ Tesi      : Factor w/ 3 levels &quot;A&quot;,&quot;B&quot;,&quot;C&quot;: 1 1 2 2 3 3
##  $ Produzioni: num  12 15 16 13 11 19</code></pre>
<p>Vediamo infatti che R ci informa che l’oggetto ‘tabella’ è in realtà un dataframe composto da tre colonne, di cui la prima e la terza sono numeriche, mentre la seconda è una variabile qualitativa (fattore).</p>
</div>
<div id="consigli-per-limmissione-di-dati-sperimentali" class="section level2">
<h2><span class="header-section-number">4.9</span> Consigli per l’immissione di dati sperimentali</h2>
<p>I dati delle prove sperimentali si possono o importare in R da altri software (ad esempio Excel) oppue si possono digitare direttamente in R. In quest’ultimo caso, in genere, si crea un vettore per ogni colonna di dati e, successivamente, si riuniscono i vettori in un dataframe, che viene poi salvato nel workspace, come vedremo in seguito.</p>
<div id="immissione-manuale-di-dati" class="section level3">
<h3><span class="header-section-number">4.9.1</span> Immissione manuale di dati</h3>
<p>L’immissione dei dati in R (e quindi la creazione di vettori) può essere velocizzata utilizzando la funzione <code>scan()</code>, separando i dati con INVIO (questo è comodo perchè ci permette di lavorare senza abbandonare il tastierino numerico!). L’immissione termina quando si digita un INVIO a vuoto.</p>
<pre><code>dati &lt;- scan()
1: 12
2: 14
3: 16
4: 18
5: 20
6:
Read 5 items
dati
[1] 12 14 16 18 20</code></pre>
<p>La stessa funzione può essere anche utilizzata per immettere comodamente stringhe di caratteri, con un opportuno impiego dell’argomento <code>what</code>. In questo caso è possibile omettere le virgolette.</p>
<pre><code>tesi  &lt;-  scan(what = &quot;character&quot;)
1: aurelio
2: aurelio
3: aurelio
4: claudio
5: claudio
6: claudio
7: latino
8: latino
9: latino
10: 
Read 9 items
tesi
[1] &quot;aurelio&quot; &quot;aurelio&quot; &quot;aurelio&quot; &quot;claudio&quot; 
    &quot;claudio&quot; &quot;claudio&quot; &quot;latino&quot;  &quot;latino&quot;  &quot;latino&quot; 
&gt;</code></pre>
</div>
<div id="immissione-di-numeri-progressivi" class="section level3">
<h3><span class="header-section-number">4.9.2</span> Immissione di numeri progressivi</h3>
<p>Per creare una serie progressiva, si può utilizzare il comando <code>seq(n,m,by=step)</code> che genera una sequenza da <span class="math inline">\(n\)</span> a <span class="math inline">\(m\)</span> con passo pari a <span class="math inline">\(step\)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">parcelle  &lt;-<span class="st">  </span><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">50</span>,<span class="dv">1</span>)
parcelle</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
## [24] 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46
## [47] 47 48 49 50</code></pre>
</div>
<div id="immissione-dei-codici-delle-tesi-e-dei-blocchi" class="section level3">
<h3><span class="header-section-number">4.9.3</span> Immissione dei codici delle tesi e dei blocchi</h3>
<p>A volte i codici delle tesi sono sequenze ripetute di stringhe. Ad esempio, i primi quattro dati potrebbero essere riferiti alla varietà BAIO, i secondi quattro alla varietà DUILIO, i successivi quattro alla varietà PLINIO. Per creare velocemente questo vettore, possiamo utilizzare la funzione <code>rep()</code>, in questo modo.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tesi  &lt;-<span class="st">  </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;BAIO&quot;</span>, <span class="st">&quot;DUILIO&quot;</span>, <span class="st">&quot;PLINIO&quot;</span>))
tesi</code></pre></div>
<pre><code>## [1] BAIO   DUILIO PLINIO
## Levels: BAIO DUILIO PLINIO</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tesi  &lt;-<span class="st">  </span><span class="kw">rep</span>(tesi,<span class="dt">each=</span><span class="dv">4</span>)
tesi</code></pre></div>
<pre><code>##  [1] BAIO   BAIO   BAIO   BAIO   DUILIO DUILIO DUILIO DUILIO PLINIO PLINIO
## [11] PLINIO PLINIO
## Levels: BAIO DUILIO PLINIO</code></pre>
<p>Notare l’uso della funzione <code>factor()</code> per creare un vettore di dati qualitativi (fattore). Allo stesso modo, per immettere i codici dei blocchi possiamo utilizzare la stessa funzione in un modo diverso. Ammettiamo infatti che i quattro valori di ogni tesi appartengano rispettivamente ai quattro blocchi; si opera quindi in questo modo.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tesi  &lt;-<span class="st">  </span>(<span class="kw">c</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))
tesi &lt;-<span class="st"> </span><span class="kw">rep</span>(tesi, <span class="dt">times=</span><span class="dv">3</span>)
tesi</code></pre></div>
<pre><code>##  [1] 1 2 3 4 1 2 3 4 1 2 3 4</code></pre>
</div>
<div id="leggere-e-salvare-dati-esterni" class="section level3">
<h3><span class="header-section-number">4.9.4</span> Leggere e salvare dati esterni</h3>
<p>Oltre che immessi da tastiera, i dati possono essere importati in R da files esterni, Inoltre, gli oggetti di R creati nel corso di una sessione possono essere memorizzati su files esterni. Partiamo dal presupposto di aver creato (come frequentemente avviene) il nostro database con EXCEL e di volerlo importare in R nel DATAFRAME <em>dati</em>.</p>
<p>Creiamo in EXCEL la tabella riportata di seguito, che si riferisce a 20 piante di mais.</p>
<table>
<thead>
<tr class="header">
<th>Pianta</th>
<th>Var</th>
<th>Altezza</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>N</td>
<td>172</td>
</tr>
<tr class="even">
<td>2</td>
<td>S</td>
<td>154</td>
</tr>
<tr class="odd">
<td>3</td>
<td>V</td>
<td>150</td>
</tr>
<tr class="even">
<td>4</td>
<td>V</td>
<td>188</td>
</tr>
<tr class="odd">
<td>5</td>
<td>C</td>
<td>162</td>
</tr>
<tr class="even">
<td>6</td>
<td>N</td>
<td>145</td>
</tr>
<tr class="odd">
<td>7</td>
<td>C</td>
<td>157</td>
</tr>
<tr class="even">
<td>8</td>
<td>C</td>
<td>178</td>
</tr>
<tr class="odd">
<td>9</td>
<td>V</td>
<td>175</td>
</tr>
<tr class="even">
<td>10</td>
<td>N</td>
<td>158</td>
</tr>
<tr class="odd">
<td>11</td>
<td>N</td>
<td>153</td>
</tr>
<tr class="even">
<td>12</td>
<td>N</td>
<td>191</td>
</tr>
<tr class="odd">
<td>13</td>
<td>S</td>
<td>174</td>
</tr>
<tr class="even">
<td>14</td>
<td>C</td>
<td>141</td>
</tr>
<tr class="odd">
<td>15</td>
<td>N</td>
<td>165</td>
</tr>
<tr class="even">
<td>16</td>
<td>C</td>
<td>163</td>
</tr>
<tr class="odd">
<td>17</td>
<td>V</td>
<td>148</td>
</tr>
<tr class="even">
<td>18</td>
<td>S</td>
<td>152</td>
</tr>
<tr class="odd">
<td>19</td>
<td>C</td>
<td>169</td>
</tr>
<tr class="even">
<td>20</td>
<td>C</td>
<td>185</td>
</tr>
</tbody>
</table>
<p>La procedura è la seguente:</p>
<ol style="list-style-type: decimal">
<li>salviamo questa tabella nel file di testo: <em>comma delineated</em> ‘import.csv’. Per far questo scegliere ‘Menù - File - Salva con nome’. Scegliere un nome per il file ed indicare: ’Tipo file = CSV (delimitato dal separatore di elenco) (*.csv). Salvare quindi il file in una directory prescelta.</li>
<li>Avviare una sessione R, cambiare la directory predefinita del sistema, scegliendo con il menu File, Change Directory, la cartella nella quale abbiamo memorizzato il file di importazione.</li>
<li>Leggere il file di testo in un dataframe, con il seguente comando:</li>
</ol>
<pre><code>setwd(&quot;myWorkingDir&quot;)
dati  &lt;-  read.csv(&quot;import.csv&quot;, header=TRUE)</code></pre>
<p>Il comando appena descritto ha successo per file CSV creati con la versione inglese di Windows, caratterizzati dal punto come separatore decimale e dalla virgola come separatore di elenco. Se invece il computer fosse settato all’italiana, con la virgola come separatore decimale e il punto e virgola come separatore di elenco, allora si potrebbe utilizzare la funzione <code>read.csv2()</code> (stessa sintassi). Con questi due comandi, in R viene creato un dataframe di nome dati, contenente le tre colonne della tabella ‘import.csv’ appena creata, comprese le intestazioni di colonna.</p>
<p>I dati contenuti in un dataframe o in qualunque altro oggetto possono essere salvati in un file esterno (in formato R binario):</p>
<pre><code>save(file=&quot;dati1.rda&quot;, dati)</code></pre>
<p>ed eventualmente ricaricati:</p>
<pre><code>load(&quot;dati1.rda&quot;)</code></pre>
<p>Per scrivere in un file di testo (in questo caso <em>comma delineated</em>, ma il separatore di elenco può essere modificato secondo le nostre esigenze con l’argomento <code>sep</code>) si utilizza il seguente comando:</p>
<pre><code>write.table(dati, &quot;residui.csv&quot;, row.names=FALSE, 
              col.names=TRUE, sep=&quot;,&quot;)</code></pre>
</div>
</div>
<div id="alcune-operazioni-comuni-sul-dataset" class="section level2">
<h2><span class="header-section-number">4.10</span> Alcune operazioni comuni sul dataset</h2>
<div id="selezionare-un-subset-di-dati" class="section level3">
<h3><span class="header-section-number">4.10.1</span> Selezionare un subset di dati</h3>
<p>E’ possibile estrarre da un dataframe un subset di dati utilizzando la funzione:</p>
<pre><code>subset(dataframe, condizione)</code></pre>
<p>Ad esempio, se consideriamo il dataframe tabella creato in precedenza, è possibile selezionare tutte le righe relative alle Tesi A e C come segue:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tabella2  &lt;-<span class="st">  </span><span class="kw">subset</span>(tabella, Tesi <span class="op">==</span><span class="st"> &quot;A&quot;</span> <span class="op">|</span><span class="st"> </span>Tesi <span class="op">==</span><span class="st"> &quot;C&quot;</span>)
tabella2</code></pre></div>
<pre><code>##   Parc Tesi Produzioni
## 1    1    A         12
## 2    2    A         15
## 5    5    C         11
## 6    6    C         19</code></pre>
<p>Notare il carattere “|” che esprime la condizione logica OR. La condizione logica AND si esprime con il carattere “&amp;”. L’esempio seguente isola i record in cui le varietà sono A o C e, contemporaneamente, la produzione è minore di 19.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tabella3  &lt;-<span class="st">  </span><span class="kw">subset</span>(tabella, Tesi <span class="op">==</span><span class="st"> &quot;A&quot;</span> <span class="op">|</span><span class="st"> </span>Tesi <span class="op">==</span><span class="st"> &quot;C&quot;</span> <span class="op">&amp;</span><span class="st"> </span>
<span class="st">                       </span>Produzioni <span class="op">&lt;</span><span class="st"> </span><span class="dv">19</span>)
tabella3</code></pre></div>
<pre><code>##   Parc Tesi Produzioni
## 1    1    A         12
## 2    2    A         15
## 5    5    C         11</code></pre>
</div>
<div id="ordinare-un-vettore-o-un-dataframe" class="section level3">
<h3><span class="header-section-number">4.10.2</span> Ordinare un vettore o un dataframe</h3>
<p>Un vettore (numerico o carattere) può essere ordinato con il comando <code>sort</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y  &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">15</span>, <span class="dv">11</span>, <span class="dv">17</span>, <span class="dv">12</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">15</span>)
<span class="kw">sort</span>(y, <span class="dt">decreasing =</span> <span class="ot">FALSE</span>)</code></pre></div>
<pre><code>## [1]  7  8 11 12 12 15 15 17</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z  &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;L&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;E&quot;</span>)
<span class="kw">sort</span>(z, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] &quot;M&quot; &quot;L&quot; &quot;F&quot; &quot;E&quot; &quot;D&quot; &quot;C&quot; &quot;B&quot; &quot;A&quot;</code></pre>
<p>Un dataframe può essere invece ordinato con il comando <code>order()</code>, facendo attenzione al segno meno utilizzabile per l’ordinamento decrescente.</p>
<pre><code>dataset[order(dataset$z, dataset$y), ]
dataset[order(dataset$z, -dataset$y), ]</code></pre>
</div>
</div>
<div id="workspace" class="section level2">
<h2><span class="header-section-number">4.11</span> Workspace</h2>
<p>Gli oggetti creati durante una sessione di lavoro vengono memorizzati nel cosiddetto workspace. Per il salvataggio del workspace nella directory corrente si usa il menu (File/Save Workspace) oppure il comando:</p>
<pre><code>save.image(&#39;nomefile.RData&#39;)</code></pre>
<p>Il contenuto del workspace viene visualizzato con:</p>
<pre><code>ls()</code></pre>
<p>Il workspace viene richiamato da menu (File/Open Workspace) oppure con il comando:</p>
<pre><code>load(&#39;nomefile.RData&#39;)</code></pre>
<p>Per un lavoro efficiente in R è bene tenere il workspace molto pulito, eliminando gli oggetti non necessari. La completa eliminazione degli oggetti nel workspace si esegue con:</p>
<pre><code>rm(list=ls())</code></pre>
<p>Uno o più oggetti specifici possono essere eliminati con:</p>
<pre><code>rm(oggetto1, oggetto2, .....)</code></pre>
<p>Gli oggetti possono anche essere richiamati in base alla loro posizione; ad esempio il comando:</p>
<pre><code>rm(list=ls()[3:4])</code></pre>
<p>elimina il terzo e il quarto oggetto dal workspace.</p>
<p>Un comando particolarmente utile è il seguente:</p>
<pre><code>rm(list=ls()[ls()!=&quot;oggetto1&quot;])</code></pre>
<p>che permette di eliminare dal workspace ogni oggetto meno “oggetto1”. Si possono utilizzare anche clausole logiche più articolate come la seguente:</p>
<pre><code>rm(list=ls()[ls()!=&quot;oggetto1&quot; &amp; ls()!=&quot;oggetto2&quot;])</code></pre>
<p>che elimina tutto meno “oggetto1” e “oggetto2”.</p>
</div>
<div id="script-o-programmi" class="section level2">
<h2><span class="header-section-number">4.12</span> Script o programmi</h2>
<p>Come è possibile memorizzare dati e workspace, è anche possibile creare uno script (procedura, funzione…) da memorizzare e richiamare in seguito. Nel caso più semplice è possibile scrivere comandi in un semplice editor di testo e salvarli in un file con estensione ‘.r’. I comandi possono poi essere riutilizzati per semplice copia ed incolla sulla console, opppure, nel caso in cui si utilizzi Rstudio (FILE -<span class="math inline">\(&gt;\)</span> APRI SCRIPT o NUOVO SCRIPT) selezionando il comando (o i comandi) da inviare alla console e premendo la combinazione CTRL + INVIO.</p>
<p>Lavorare con scripts è molto comodo e consigliabile perchè non si deve partire da zero ad ogni sessione, ma è sufficiente correggere i comandi digitati in sessioni precedenti.</p>
<p>Oltre agli script, è possibile creare funzioni personalizzate fino ad arrivare a veri e propri programmi (packages). Immaginiamo ad esempio di voler scrivere una funzione che, dato il valore della produzione rilevata in una parcella di orzo di 20 $ m^2 $ (in kg) e la sua umidità percentuale, calcoli automaticamente il valore della produzione secca in kg/ha. La funzione che dobbiamo implementare è:</p>
<p><span class="math display">\[
PS = PU \cdot \frac{100 - U}{100} \cdot \frac{10000}{20}
\]</span></p>
<p>ove PS è la produzione secca in kg/ha e PU è la produzione all’umidità U in kg per 20 $ m^2 $.</p>
<p>Scriveremo un file di testo (ad esempio con il <em>Block notes</em> o con l’editor interno ad R):</p>
<pre><code>PS  &lt;-  function(PU, U) {
  PU*((100-U)/100)*(10000/20)
}</code></pre>
<p>Notare l’uso delle parentesi graffe. Salveremo il file di testo con il nome (ad esempio) “prova.r”.</p>
<p>Aprendo una nuova sessione in R, possiamo ricaricare in memoria il file di programma (FILE - SORGENTE CODICE R, oppure da console, con il comando:</p>
<pre><code>source(&#39;prova.r&#39;)</code></pre>
<p>A differenza di quanto avviene con uno script, i comandi memorizzati nella funzione non vengono eseguiti, ma la funzione ‘PS’ diviene disponibile nel workspace e può essere utilizzata nel modo seguente:</p>
<pre><code>PS(20,85)</code></pre>
</div>
<div id="interrogazione-di-oggetti" class="section level2">
<h2><span class="header-section-number">4.13</span> Interrogazione di oggetti</h2>
<p>A differenza di altri linguaggi statistici come SAS o SPSS, R immagazzina i risultati delle analisi negli oggetti, mostrando un output video piuttosto minimale. Per ottenere informazioni è necessario interrogare opportunamente gli oggetti che al loro interno possono contenere altri oggetti da cui recuperare le informazioni interessanti. Gli oggetti che contengono altri oggetti sono detti <strong>liste</strong>.</p>
<p>Ad esempio, se vogliamo calcolare autovettori ed autovalori di una matrice, utilizziamo la funzione ‘eigen’. Questa funzione restituisce una lista di oggetti, che al suo interno contiene i due oggetti values (autovalori) e vectors (autovettori). Per recuperare l’uno o l’altro dei due risultati (autovettori o autovalori) si usa l’operatore di concatenamento (detto anche estrattore) $.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">matrice  &lt;-<span class="st">  </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>),<span class="dv">2</span>,<span class="dv">2</span>)
matrice</code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    2    3
## [2,]    1    4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ev  &lt;-<span class="st">  </span><span class="kw">eigen</span>(matrice)
ev</code></pre></div>
<pre><code>## eigen() decomposition
## $values
## [1] 5 1
## 
## $vectors
##            [,1]       [,2]
## [1,] -0.7071068 -0.9486833
## [2,] -0.7071068  0.3162278</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ev<span class="op">$</span>values</code></pre></div>
<pre><code>## [1] 5 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ev<span class="op">$</span>vectors</code></pre></div>
<pre><code>##            [,1]       [,2]
## [1,] -0.7071068 -0.9486833
## [2,] -0.7071068  0.3162278</code></pre>
</div>
<div id="altre-funzioni-matriciali" class="section level2">
<h2><span class="header-section-number">4.14</span> Altre funzioni matriciali</h2>
<p>Oltre che autovettori ed autovalori di una matrice, R ci permette di gestire altre funzioni di matrice. Se ad esempio abbiamo le matrici:</p>
<p><span class="math display">\[
Z = \left( {\begin{array}{*{20}c}
   1 &amp; 2  
   2 &amp; 3  
\end{array}} \right)\,\,\,\,\,\,\,Y = \left( {\begin{array}{*{20}c}
   3 &amp; 2  
\end{array}} \right)
\]</span></p>
<p>queste possono essere caricate in R con i seguenti comandi:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Z  &lt;-<span class="st">  </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>),<span class="dv">2</span>,<span class="dv">2</span>)
Y  &lt;-<span class="st">  </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">2</span>),<span class="dv">1</span>,<span class="dv">2</span>)</code></pre></div>
<p>Possiamo poi ottenere la trasposta di Z con il comando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">t</span>(Z)</code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    2    3</code></pre>
<p>Possiamo moltiplicare Y e Z utilizzando l’operatore %*%:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Y<span class="op">%*%</span>Z</code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    7   12</code></pre>
<p>Possiamo calcolare l’inversa di Z con:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">solve</span>(Z)</code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]   -3    2
## [2,]    2   -1</code></pre>
</div>
<div id="cenni-sulle-funzionalita-grafiche-in-r" class="section level2">
<h2><span class="header-section-number">4.15</span> Cenni sulle funzionalità grafiche in R</h2>
<p>R è un linguaggio abbastanza potente e permette di creare grafici interessanti. Ovviamente un trattazione esauriente esula dagli scopi di questo testo, anche se è opportuno dare alcune indicazioni che potrebbero essere utili in seguito. La funzione più utilizzata per produrre grafici è:</p>
<pre><code>plot(x,y, type, xlab, ylab, col, lwd, lty...)</code></pre>
<p>ovex ed y sono i vettori con le coordinate dei punti da disegnare. <code>Type</code> rappresenta il tipo di grafico (‘’p’‘produce un grafico a punti,’‘l’‘un grafico a linee,’‘b’‘disegna punti uniti da linee,’‘h’’ disegna istogrammi), ’Title disegna il titolo del grafico, sub il sottotitolo,xlab e ylab le etichette degli assi, col è il colore dell’oggetto, lwd il suo spessore, lty il tipo di linea e cos'i via.</p>
<p>Per una descrizione più dettagliata si consiglia di consultare la documentazione on line. A titolo di esempio mostriamo l’output dei comandi:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x  &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)
y  &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">13</span>,<span class="dv">17</span>)
<span class="kw">plot</span>(x, y, <span class="st">&quot;p&quot;</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lwd=</span><span class="dv">5</span>,<span class="dt">xlab=</span><span class="st">&quot;Ascissa&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Ordinata&quot;</span>)</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>Per sovrapporre un’altra serie di punti alla precedente possiamo utilizzare il comando ‘points’:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y2  &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="dv">17</span>,<span class="dv">13</span>,<span class="dv">11</span>,<span class="dv">10</span>)
<span class="kw">plot</span>(x, y, <span class="st">&quot;p&quot;</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lwd=</span><span class="dv">5</span>,<span class="dt">xlab=</span><span class="st">&quot;Ascissa&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Ordinata&quot;</span>)
<span class="kw">points</span>(x, y2, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">lwd=</span><span class="dv">5</span>)</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<p>Se avessimo voluto sovrapporre una grafico a linee avremmo invece utilizzato la funzione ‘lines’:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(x, y, <span class="st">&quot;p&quot;</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lwd=</span><span class="dv">5</span>,<span class="dt">xlab=</span><span class="st">&quot;Ascissa&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Ordinata&quot;</span>)
<span class="kw">points</span>(x, y2, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">lwd=</span><span class="dv">5</span>)
<span class="kw">lines</span>(x, y2, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">lwd=</span><span class="dv">2</span>)</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>Per disegnare una curva si può utilizzare la funzione:</p>
<pre><code>curve(funzione, Xiniziale, Xfinale, add=FALSE/TRUE)</code></pre>
<p>dove l’argomento ‘add’ serve per specificare se la funzione deve essere aggiunta ad un grafico preesistente.</p>
<p>Per aggiungere un titolo ad un grafico possiamo utilizzare la funzione:</p>
<pre><code>title(main=&quot;Titolo&quot;)</code></pre>
<p>mentre per aggiungere una legenda utilizziamo la funzione:</p>
<pre><code>legend(Xcoord, YCoord , legend=c(&quot;Punti&quot;,&quot;X+10&quot;), pch=c(19,-1),
      col=c(&quot;Red&quot;,&quot;Blue&quot;),
      lwd=c(3,3), lty=c(0,3))</code></pre>
<p>ove i vettori indicano, per ogni elemento della legenda, il testo che deve essere riportato (legend), il tipo di simbolo (pch, con -1 che indica nessun simbolo), il colore (col), la larghezza (lwd) e il tipo di linea (lty, con 0 che indica nessuna linea).</p>
<p>Ad esempio:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(x, y, <span class="st">&quot;p&quot;</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lwd=</span><span class="dv">5</span>, <span class="dt">xlab=</span><span class="st">&quot;Ascissa&quot;</span>, 
       <span class="dt">ylab =</span> <span class="st">&quot;Ordinata&quot;</span>)
<span class="kw">curve</span>(<span class="dv">10</span><span class="op">+</span>x, <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">lty=</span><span class="dv">1</span>, <span class="dt">lwd=</span><span class="dv">2</span>, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)
<span class="kw">title</span>(<span class="dt">main=</span><span class="st">&quot;Grafico di prova&quot;</span>)
<span class="kw">legend</span>(<span class="dv">1</span>,<span class="dv">17</span>, <span class="dt">legend=</span><span class="kw">c</span>(<span class="st">&quot;Punti&quot;</span>, <span class="st">&quot;X+10&quot;</span>), <span class="dt">pch=</span><span class="kw">c</span>(<span class="dv">19</span>,<span class="op">-</span><span class="dv">1</span>), 
  <span class="dt">col=</span><span class="kw">c</span>(<span class="st">&quot;Red&quot;</span>, <span class="st">&quot;Blue&quot;</span>), <span class="dt">lwd=</span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>), <span class="dt">lty=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<p>L’ultima cosa che desideriamo menzionare è la possibilità di disegnare grafici a torta, utilizzando il comando:</p>
<pre><code>pie(vettoreNumeri, vettoreEtichette, vettoreColori)</code></pre>
<p>Ad esempio il comando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pie</span>(<span class="kw">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">50</span>),<span class="dt">label=</span><span class="kw">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>),
        <span class="dt">col=</span><span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>))</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
</div>
<div id="per-approfondimenti-1" class="section level2">
<h2><span class="header-section-number">4.16</span> Per approfondimenti</h2>
<p>Per approfondimenti si consiglia la consultazione di:</p>
<ul>
<li>Maindonald J. Using R for Data Analysis and Graphics - Introduction, Examples and Commentary. (PDF, data sets and scripts are available at <a href="https://cran.r-project.org/doc/contrib/usingR.pdff">JM’s homepage</a>.</li>
</ul>
<p>Per conoscere più a fondo l’ambiente di svilupp RStudio, consiglio la lettura di:</p>
<ul>
<li>Oscar Torres Reina, 2013. Introductio to RStudio (v. 1.3). <a href="https://dss.princeton.edu/training/RStudio101.pdf">This homepage</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduzione-al-disegno-sperimentale.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="primo-passo-la-descrizione-dei-dati-raccolti.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
